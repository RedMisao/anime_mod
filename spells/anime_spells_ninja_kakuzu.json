[
  {
    "id": "doton_domu",
    "type": "SPELL",
    "name": { "str": "<color_brown>Doton:</color> Domu" },
    "description": "Harden your body with Earth chakra, greatly increasing your defenses and increasing the force of your unarmed attacks.  \nActivation cost: <color_light_blue>25</color> chakra.  Drains chakra while active.  Cast again to toggle OFF.",
    "spell_class": "NINJA",
    "teachable": false,
    "valid_targets": [ "self" ],
    "effect": "effect_on_condition",
    "effect_str": "doton_domu_eoc",
    "shape": "blast",
    "max_level": 1,
    "difficulty": -20,
    "message": "",
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "MUST_HAVE_CLASS_TO_LEARN", "NO_LEGS", "NO_PROJECTILE" ],
    "//": "Casting time is set by the eoc queue"
  },
  {
    "id": "fuuton_atsugai",
    "type": "SPELL",
    "name": { "str": "<color_white>Fuuton:</color> Atsugai" },
    "description": "Create a very high pressure zone in front of you.  It will collapse, dealing heavy <color_white>Physical</color> damage to anything caught in the aoe.",
    "spell_class": "NINJA",
    "teachable": false,
    "valid_targets": [ "self" ],
    "effect": "effect_on_condition",
    "effect_str": "fuuton_atsugai_eoc",
    "shape": "blast",
    "max_level": 1,
    "difficulty": -20,
    "message": "",
    "base_casting_time": 0,
    "base_energy_cost": { "math": [ "200 + ( var_kakuzu_mood * rand(100) )" ] },
    "energy_source": "MANA",
    "flags": [ "MUST_HAVE_CLASS_TO_LEARN", "NO_HANDS", "NO_LEGS", "NO_PROJECTILE" ]
  },
  {
    "id": "fuuton_atsugai2",
    "type": "SPELL",
    "name": { "str": "<color_white>Fuuton:</color> Atsugai" },
    "description": "Create a very high pressure zone in front of you.  It will collapse, dealing heavy <color_white>Physical</color> damage to anything caught in the aoe.",
    "spell_class": "NINJA",
    "teachable": false,
    "valid_targets": [ "ally", "ground", "hostile" ],
    "effect": "attack",
    "extra_effects": [ { "id": "fuuton_atsugai2_2" }, { "id": "fuuton_atsugai2_2" }, { "id": "fuuton_atsugai2_2" } ],
    "shape": "cone",
    "damage_type": "bash",
    "min_damage": { "math": [ "( max( u_skill('melee') + 2, u_skill('unarmed') ) * 27 - 126 )" ] },
    "max_damage": 360,
    "min_range": 8,
    "max_range": 8,
    "min_aoe": 50,
    "max_aoe": 50,
    "max_level": 1,
    "difficulty": -20,
    "base_casting_time": 0,
    "base_energy_cost": { "math": [ "200 + ( var_kakuzu_mood * rand(100) )" ] },
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "NO_PROJECTILE" ],
    "//": "min dmg 90"
  },
  {
    "id": "fuuton_atsugai2_2",
    "type": "SPELL",
    "name": { "str": "Fuuton: Atsugai (bash)" },
    "description": "Bash effect for fuuton_atsugai ",
    "spell_class": "NINJA",
    "valid_targets": [ "ground", "item" ],
    "effect": "bash",
    "shape": "cone",
    "damage_type": "bash",
    "min_damage": { "math": [ "( max( u_skill('melee') + 2, u_skill('unarmed') ) * 27 - 126 ) * 2/3 " ] },
    "max_damage": 240,
    "min_range": 8,
    "max_range": 8,
    "min_aoe": 50,
    "max_aoe": 50,
    "max_level": 1,
    "difficulty": -20,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_EXPLOSION_SFX", "NO_LEGS", "SILENT" ],
    "//": "min dmg 60 (x3)"
  },
  {
    "id": "katon_zukokku",
    "type": "SPELL",
    "name": { "str": "<color_red>Katon:</color> Zukokku" },
    "description": "Discharge fire at the location.  It will explode after it finishes traveling, or prematurely after hitting a solid object, dealing heavy <color_red>Fire</color> damage to anything caught in the aoe.",
    "spell_class": "NINJA",
    "teachable": false,
    "valid_targets": [ "self" ],
    "effect": "effect_on_condition",
    "effect_str": "katon_zukokku_eoc",
    "shape": "blast",
    "max_level": 1,
    "difficulty": -20,
    "message": "",
    "base_casting_time": 0,
    "base_energy_cost": { "math": [ "200 + ( var_kakuzu_mood * rand(100) )" ] },
    "energy_source": "MANA",
    "flags": [ "MUST_HAVE_CLASS_TO_LEARN", "NO_HANDS", "NO_LEGS", "NO_PROJECTILE" ]
  },
  {
    "id": "katon_zukokku2",
    "type": "SPELL",
    "name": { "str": "<color_red>Katon:</color> Zukokku" },
    "description": "Discharge fire at the location.  It will explode after it finishes traveling, or prematurely after hitting a solid object, dealing heavy <color_red>Fire</color> damage to anything caught in the aoe.",
    "spell_class": "NINJA",
    "valid_targets": [ "ally", "ground", "hostile", "item" ],
    "effect": "attack",
    "shape": "blast",
    "damage_type": "heat",
    "min_damage": { "math": [ "( max( u_skill('melee') + 2, u_skill('unarmed') ) * 22.5 - 105 )" ] },
    "max_damage": 180,
    "min_range": 12,
    "max_range": 12,
    "min_aoe": 5,
    "max_aoe": 7,
    "max_level": 1,
    "difficulty": -20,
    "base_casting_time": 0,
    "base_energy_cost": { "math": [ "200 + ( var_kakuzu_mood * rand(100) )" ] },
    "energy_source": "MANA",
    "flags": [ "IGNITE_FLAMMABLE", "NO_HANDS", "NO_LEGS", "RANDOM_AOE" ],
    "//": "min dmg 75"
  },
  {
    "id": "kimen_no_bakuen2",
    "type": "SPELL",
    "name": { "str": "<color_white>Kimen</color> no <color_red>Bakuen</color>" },
    "description": "Create a large inferno around you.  Deals further increased <color_red>Fire</color> damage, <color_red>igniting</color> and damaging terrain in the process.",
    "spell_class": "NINJA",
    "teachable": false,
    "valid_targets": [ "ally", "ground", "hostile" ],
    "effect": "attack",
    "extra_effects": [ { "id": "kimen_no_bakuen2_2" }, { "id": "kimen_no_bakuen2_2" }, { "id": "kimen_no_bakuen2_2" } ],
    "shape": "blast",
    "damage_type": "bash",
    "min_damage": { "math": [ "( max( u_skill('melee') + 2, u_skill('unarmed') ) * 36 - 168 )" ] },
    "max_damage": 480,
    "min_aoe": 10,
    "max_aoe": 10,
    "max_level": 1,
    "difficulty": -20,
    "base_casting_time": 0,
    "base_energy_cost": { "math": [ "200 + ( var_kakuzu_mood * rand(100) )" ] },
    "energy_source": "MANA",
    "flags": [ "IGNITE_FLAMMABLE", "NO_HANDS", "NO_LEGS", "NO_PROJECTILE" ],
    "//": "min dmg 120"
  },
  {
    "id": "kimen_no_bakuen2_2",
    "type": "SPELL",
    "name": { "str": "Kimen no Bakuen(bash)" },
    "description": "Bash effect for kimen_no_bakuen ",
    "spell_class": "NINJA",
    "valid_targets": [ "ground", "item" ],
    "effect": "bash",
    "shape": "cone",
    "damage_type": "bash",
    "min_damage": { "math": [ "( max( u_skill('melee') + 2, u_skill('unarmed') ) * 36 - 168 ) * 2/3 " ] },
    "max_damage": 320,
    "min_aoe": 8,
    "max_aoe": 8,
    "max_level": 1,
    "difficulty": -20,
    "flags": [ "NO_EXPLOSION_SFX", "NO_LEGS", "SILENT" ],
    "//": "min dmg 80 (x3)"
  },
  {
    "id": "raiton_gian",
    "type": "SPELL",
    "name": { "str": "<color_yellow>Raiton:</color> Gian" },
    "description": "Create a spear-like lightning, dealing heavy <color_yellow>Electric</color> damage to any creatures caught in the way.",
    "spell_class": "NINJA",
    "teachable": false,
    "valid_targets": [ "self" ],
    "effect": "effect_on_condition",
    "effect_str": "raiton_gian_eoc",
    "shape": "blast",
    "max_level": 1,
    "difficulty": -20,
    "message": "",
    "base_casting_time": 0,
    "base_energy_cost": { "math": [ "200 + ( var_kakuzu_mood * rand(100) )" ] },
    "energy_source": "MANA",
    "flags": [ "MUST_HAVE_CLASS_TO_LEARN", "NO_HANDS", "NO_LEGS", "NO_PROJECTILE" ]
  },
  {
    "id": "raiton_gian2",
    "type": "SPELL",
    "name": { "str": "<color_yellow>Raiton:</color> Gian" },
    "description": "Create a spear-like lightning, dealing heavy <color_yellow>Electric</color> damage to any creatures caught in the way.",
    "spell_class": "NINJA",
    "teachable": false,
    "valid_targets": [ "ally", "ground", "hostile" ],
    "effect": "attack",
    "shape": "blast",
    "damage_type": "electric",
    "min_damage": 40,
    "max_damage": { "math": [ "( max( u_skill('melee') + 2, u_skill('unarmed') ) * 36 - 168 )" ] },
    "min_range": 16,
    "max_range": 16,
    "max_level": 1,
    "difficulty": -20,
    "base_casting_time": 0,
    "base_energy_cost": { "math": [ "200 + ( var_kakuzu_mood * rand(100) )" ] },
    "energy_source": "MANA",
    "flags": [ "IGNORE_WALLS", "NO_HANDS", "NO_LEGS", "RANDOM_DAMAGE" ],
    "//": "min dmg 80/2, max dmg (120 - 480)"
  },
  {
    "id": "kakuzu_thread_heart",
    "type": "SPELL",
    "name": { "str": "<color_dark_gray>Absorb heart</color>" },
    "description": "Attempt to absorb the heart of the target, restoring a random mask.",
    "spell_class": "NINJA",
    "teachable": false,
    "valid_targets": [ "self" ],
    "effect": "effect_on_condition",
    "effect_str": "kakuzu_thread_heart_eoc",
    "shape": "blast",
    "max_level": 1,
    "difficulty": -20,
    "message": "",
    "base_casting_time": 0,
    "base_energy_cost": { "math": [ "200 + ( var_kakuzu_mood * rand(100) )" ] },
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "NO_PROJECTILE" ],
    "//note": "This should aggro the targeted NPC and aggro any NPC around him (except if they're psychopaths or have killer drive, etc), but idk how to do that"
  },
  {
    "id": "kakuzu_thread_heart2",
    "type": "SPELL",
    "name": { "str": "Absorb heart (effect)" },
    "description": "Adds the effect to tag the target, and casts the spell to deal dmg",
    "spell_class": "NINJA",
    "teachable": false,
    "valid_targets": [ "ally", "hostile" ],
    "effect": "attack",
    "effect_str": "kakuzu_thread_heart_effect",
    "extra_effects": [ { "id": "kakuzu_thread_heart3" } ],
    "shape": "blast",
    "damage_type": "pure",
    "max_level": 1,
    "difficulty": -20,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_EXPLOSION_SFX", "NO_HANDS", "NO_LEGS", "NO_PROJECTILE", "SILENT" ]
  },
  {
    "id": "kakuzu_thread_heart3",
    "type": "SPELL",
    "name": { "str": "Absorb heart (dmg)" },
    "description": "Dmg component of kakuzu_thread_heart ",
    "spell_class": "NINJA",
    "teachable": false,
    "valid_targets": [ "ally", "hostile" ],
    "effect": "attack",
    "shape": "blast",
    "damage_type": "stab",
    "min_damage": 99,
    "max_damage": 99,
    "min_range": 2,
    "max_range": 2,
    "max_level": 1,
    "difficulty": -20,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "NO_PROJECTILE", "RANDOM_DAMAGE" ],
    "//": "min dmg (24 - 42), max dmg (40 - 96). Values set so it cannot immediately kill at early levels, behaving like an 'execute'-type ability"
  },
  {
    "id": "kakuzu_thread_heal",
    "type": "SPELL",
    "name": { "str": "<color_dark_gray>Thread</color> <color_light_green>heal</color>" },
    "description": "<color_light_green>Restore</color> wounds and physical damage to your body by threading it.  Can be used on a nearby target.",
    "spell_class": "NINJA",
    "valid_targets": [ "ally", "self", "hostile" ],
    "affected_body_parts": [ "arm_l", "arm_r", "head", "leg_l", "leg_r", "torso" ],
    "effect": "attack",
    "shape": "blast",
    "damage_type": "pure",
    "min_damage": { "math": [ " - ( max( u_skill('melee') + 2, u_skill('unarmed') ) * 1 )" ] },
    "max_damage": { "math": [ " - ( max( u_skill('melee') + 2, u_skill('unarmed') ) * 3 )" ] },
    "min_range": 1,
    "max_range": 1,
    "max_level": 1,
    "difficulty": -20,
    "base_casting_time": 1000,
    "base_energy_cost": { "math": [ "200 + ( var_kakuzu_mood * rand(100) )" ] },
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "SILENT", "RANDOM_DAMAGE" ]
  },
  {
    "id": "kakuzu_thread_needles",
    "type": "SPELL",
    "name": { "str": "<color_dark_gray>Thread needles</color> (defensive)" },
    "description": "Harden your threads, and use them to attack a nearby target.  Restores some <color_light_green>health</color>.",
    "spell_class": "NINJA",
    "valid_targets": [ "ally", "ground", "hostile" ],
    "effect": "attack",
    "extra_effects": [ { "id": "kakuzu_thread_needles_heal", "hit_self": true } ],
    "shape": "blast",
    "damage_type": "bash",
    "min_damage": { "math": [ "( max( u_skill('melee') + 2, u_skill('unarmed') ) * 2 )" ] },
    "max_damage": { "math": [ "( max( u_skill('melee') + 2, u_skill('unarmed') ) * 3 )" ] },
    "min_range": { "math": [ "( u_skill('dodge') * 0.5 )" ] },
    "max_range": { "math": [ "( u_skill('dodge') * 0.5 )" ] },
    "max_level": 1,
    "difficulty": -20,
    "base_casting_time": 100,
    "base_energy_cost": { "math": [ "200 + ( var_kakuzu_mood * rand(100) )" ] },
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "SILENT", "RANDOM_DAMAGE" ],
    "//": "min dmg (16 - 36), max dmg (24 - 54)",
    "//2": "From the good old Naruto battle. Casting the cheap Thread needles also restored shields",
    "//3": "No cut/stab because those apply bleed, and Kakuzu was nerfed by choosing to punch and slam around"
  },
  {
    "id": "kakuzu_thread_needles_heal",
    "type": "SPELL",
    "name": { "str": "Thread needles (heal)" },
    "description": "Heal component of kakuzu_thread_needles ",
    "spell_class": "NINJA",
    "valid_targets": [ "self" ],
    "affected_body_parts": [ "arm_l", "arm_r", "head", "leg_l", "leg_r", "torso" ],
    "effect": "attack",
    "shape": "blast",
    "damage_type": "pure",
    "min_damage": { "math": [ " - ( max( u_skill('melee') + 2, u_skill('unarmed') ) * 0.65 )" ] },
    "max_damage": { "math": [ " - ( max( u_skill('melee') + 2, u_skill('unarmed') ) * 1 )" ] },
    "min_range": 1,
    "max_range": 1,
    "max_level": 1,
    "difficulty": -20,
    "base_casting_time": 20,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "SILENT" ]
  },
  {
    "id": "kakuzu_thread_needles2",
    "type": "SPELL",
    "name": { "str": "<color_dark_gray>Thread needles</color> (offensive)" },
    "description": "Harden your threads, and use them to attack a nearby target.  Deals increased damage.",
    "spell_class": "NINJA",
    "valid_targets": [ "ally", "ground", "hostile" ],
    "effect": "attack",
    "shape": "blast",
    "damage_type": "bash",
    "min_damage": { "math": [ "( max( u_skill('melee') + 2, u_skill('unarmed') ) * 3 )" ] },
    "max_damage": { "math": [ "( max( u_skill('melee') + 2, u_skill('unarmed') ) * 6 )" ] },
    "min_range": { "math": [ "( u_skill('dodge') * 2/3 )" ] },
    "max_range": { "math": [ "( u_skill('dodge') * 2/3 )" ] },
    "max_level": 1,
    "difficulty": -20,
    "base_casting_time": 100,
    "base_energy_cost": { "math": [ "300 + ( var_kakuzu_mood * rand(100) )" ] },
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "SILENT", "RANDOM_DAMAGE" ],
    "//": "min dmg (32 - 54), max dmg (54 - 108)",
    "//2": "From the good old Naruto battle. Casting the second Thread needles dealt more damage, with no shield restoration"
  },
  {
    "id": "kakuzu_thread_pull",
    "type": "SPELL",
    "name": { "str": "<color_dark_gray>Thread pull</color>" },
    "description": "Release the threads binding your arms.  You can grab a creature or target and pull it towards you.  If they're too heavy or your footing is not stable enough, you will fail.",
    "spell_class": "NINJA",
    "teachable": false,
    "valid_targets": [ "self" ],
    "effect": "effect_on_condition",
    "effect_str": "kakuzu_thread_pull_eoc",
    "shape": "blast",
    "max_level": 1,
    "difficulty": -20,
    "message": "",
    "base_casting_time": 166,
    "base_energy_cost": { "math": [ "200 + ( var_kakuzu_mood * rand(100) )" ] },
    "energy_source": "MANA",
    "flags": [ "NO_EXPLOSION_SFX", "NO_HANDS", "NO_PROJECTILE", "SILENT" ]
  },
  {
    "id": "kakuzu_thread_pull_creature_spell",
    "type": "SPELL",
    "name": { "str": "Thread pull (EOC)" },
    "description": "Forces the target to run the EOC to compare the weight between them and Kakuzu",
    "spell_class": "NINJA",
    "valid_targets": [ "ally", "hostile" ],
    "effect": "effect_on_condition",
    "effect_str": "kakuzu_thread_pull_creature_eoc",
    "shape": "blast",
    "max_level": 1,
    "difficulty": -50,
    "message": "",
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_EXPLOSION_SFX", "NO_HANDS", "NO_LEGS", "SILENT" ]
  },
  {
    "id": "kakuzu_thread_pull_pull",
    "type": "SPELL",
    "name": { "str": "Thread pull (pull)" },
    "description": "Pull version of kakuzu_thread_pull ",
    "spell_class": "NINJA",
    "valid_targets": [ "ally", "ground", "hostile", "item" ],
    "effect": "directed_push",
    "shape": "blast",
    "min_damage": { "math": [ " - max( 6, u_skill('dodge') )" ] },
    "max_damage": { "math": [ " - max( 6, u_skill('dodge') )" ] },
    "max_level": 1,
    "difficulty": -50,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_EXPLOSION_SFX", "NO_HANDS", "NO_LEGS", "SILENT" ],
    "//": "(pull) range 8 - 20"
  },
  {
    "id": "kakuzu_thread_pull3",
    "type": "SPELL",
    "name": { "str": "Thread pull (stun)" },
    "description": "Stun component of kakuzu_thread_pull . The target is forced to cast this by kakuzu_thread_pull_check_creature_eoc ",
    "spell_class": "NINJA",
    "valid_targets": [ "self" ],
    "effect": "mod_moves",
    "shape": "blast",
    "damage_type": "pure",
    "min_damage": -100,
    "max_damage": -300,
    "max_level": 1,
    "difficulty": -11,
    "base_casting_time": 0,
    "base_energy_cost": 0,
    "energy_source": "MANA",
    "flags": [ "NO_HANDS", "NO_LEGS", "RANDOM_DAMAGE", "SILENT" ]
  }
]
